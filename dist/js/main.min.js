"use strict";function _createForOfIteratorHelper(e,t){var n,r,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){r=!0,a=e},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var navToggle=document.querySelector(".toggle-button"),primaryNav=document.querySelector("#primary-nav"),featuresControlBtns=document.querySelectorAll(".features-tabs__tab-button"),featureTabs=document.querySelectorAll(".features-tab"),accordion=document.querySelector(".accordion"),accordionBtns=accordion.querySelectorAll(".accordion__control"),KEY_CODES={end:35,home:36,arrowUp:38,arrowDown:40},handleNavToggle=function(e){var t="true"===navToggle.getAttribute("aria-expanded");navToggle.setAttribute("aria-expanded",!t),navigationExpanding(!t)},navigationExpanding=function(e){e?(primaryNav.setAttribute("data-expanded",!0),primaryNav.classList.add("slide-in"),primaryNav.addEventListener("animationend",function(){return primaryNav.classList.remove("slide-in")},{once:!0})):(primaryNav.classList.add("slide-out"),primaryNav.addEventListener("animationend",function(){primaryNav.classList.remove("slide-out"),primaryNav.removeAttribute("data-expanded")},{once:!0}))},handleFeaturesControlButton=function(e){var t,e=e.target;"true"!==e.getAttribute("aria-expanded")&&(collapseAllFeaturesBtns(),hideAllFeaturesTabs(),updateUnderlineOrigin(parseInt(e.dataset.index)),e.setAttribute("aria-expanded",!0),e="#"+e.getAttribute("aria-controls"),(t=document.querySelector(e)).classList.add("active"),t.classList.add("showing"),t.addEventListener("animationend",function(){return t.classList.remove("showing")},{once:!0}))},collapseAllFeaturesBtns=function(){var e,t=_createForOfIteratorHelper(featuresControlBtns);try{for(t.s();!(e=t.n()).done;)e.value.setAttribute("aria-expanded",!1)}catch(e){t.e(e)}finally{t.f()}},updateUnderlineOrigin=function(n){featuresControlBtns.forEach(function(e,t){t===n&&("left"===e.dataset.undelineOrigin?e.dataset.undelineOrigin="right":e.dataset.undelineOrigin="left"),t<n&&e.setAttribute("data-underline-origin","right"),n<t&&e.setAttribute("data-underline-origin","left")})},hideAllFeaturesTabs=function(){featureTabs.forEach(function(e){return e.classList.remove("active")})},initFeaturesControlBtns=function(){featuresControlBtns.forEach(function(e,t){return e.setAttribute("data-index",t)})},handleKeyPress=function(t){var e=t.keyCode,n=Array.from(accordionBtns).findIndex(function(e){return e===t.target});switch(e){case KEY_CODES.arrowUp:t.preventDefault(),moveFocusUp(n);break;case KEY_CODES.arrowDown:t.preventDefault(),moveFocusDown(n);break;case KEY_CODES.home:t.preventDefault(),moveFocusToFirstElement();break;case KEY_CODES.end:t.preventDefault(),moveFocusToLastElement()}},moveFocusUp=function(e){e=(accordionBtns.length+e-1)%accordionBtns.length;return accordionBtns[e].focus(),e},moveFocusDown=function(e){e=(e+1)%accordionBtns.length;return accordionBtns[e].focus(),e},moveFocusToFirstElement=function(e){return accordionBtns[0].focus(),0},moveFocusToLastElement=function(e){return accordionBtns[accordionBtns.length-1].focus(),accordionBtns.length-1};navToggle.addEventListener("click",handleNavToggle),featuresControlBtns.forEach(function(e){return e.addEventListener("click",handleFeaturesControlButton)}),accordionBtns.forEach(function(e){return e.addEventListener("keydown",handleKeyPress)}),initFeaturesControlBtns();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2VG9nZ2xlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJpbWFyeU5hdiIsImZlYXR1cmVzQ29udHJvbEJ0bnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmVhdHVyZVRhYnMiLCJhY2NvcmRpb25CdG5zIiwiYWNjb3JkaW9uIiwiS0VZX0NPREVTIiwiZW5kIiwiaG9tZSIsImFycm93VXAiLCJhcnJvd0Rvd24iLCJlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiaXNFeHBhbmRlZCIsIm5hdmlnYXRpb25FeHBhbmRpbmciLCJzaG91bGRFeHBhbmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJvbmNlIiwicmVtb3ZlQXR0cmlidXRlIiwiaGlkZUFsbEZlYXR1cmVzVGFicyIsImJ1dHRvbiIsInRhcmdldCIsImNvbGxhcHNlQWxsRmVhdHVyZXNCdG5zIiwiaGFuZGxlRmVhdHVyZXNDb250cm9sQnV0dG9uIiwidXBkYXRlVW5kZXJsaW5lT3JpZ2luIiwiZGF0YXNldCIsImluZGV4IiwidGFyZ2V0VGFiSWQiLCJ0YXJnZXRUYWJFbGVtZW50IiwicGFyc2VJbnQiLCJfc3RlcCIsIl9pdGVyYXRvciIsInMiLCJuIiwiZG9uZSIsInBpdm90SWR4IiwiZm9yRWFjaCIsImN0cmxCdG4iLCJpZHgiLCJ1bmRlbGluZU9yaWdpbiIsInRhYiIsImhhbmRsZUtleVByZXNzIiwia2V5Q29kZSIsIkFycmF5IiwiZnJvbSIsImZpbmRJbmRleCIsImJ0biIsInByZXZlbnREZWZhdWx0IiwibW92ZUZvY3VzVXAiLCJtb3ZlRm9jdXNEb3duIiwiaW5pdEZlYXR1cmVzQ29udHJvbEJ0bnMiLCJtb3ZlRm9jdXNUb0ZpcnN0RWxlbWVudCIsIm1vdmVGb2N1c1RvTGFzdEVsZW1lbnQiLCJwcmV2SWR4IiwibGVuZ3RoIiwiZm9jdXMiLCJuZXh0SWR4IiwiXyIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJvb0NB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T0FBQUEsRUFBT0csaUJBQUEsVUFBQWpCLGNBQUEsQ0FBQSxDQUFBLEVBRS9CUyx3QkFBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIG5hdmlnYXRpb24gZWxlbWVudHMgKi9cclxuY29uc3QgbmF2VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZ2dsZS1idXR0b24nKTtcclxuY29uc3QgcHJpbWFyeU5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcmltYXJ5LW5hdicpO1xyXG4vKiBmZWF0dXJlIHRhYnMgZWxlbWVudHMgKi9cclxuY29uc3QgZmVhdHVyZXNDb250cm9sQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mZWF0dXJlcy10YWJzX190YWItYnV0dG9uJyk7XHJcbmNvbnN0IGZlYXR1cmVUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZlYXR1cmVzLXRhYicpO1xyXG4vKiBhY2NvcmRpb24gZWxlbWVudHMgKi9cclxuY29uc3QgYWNjb3JkaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbicpO1xyXG5jb25zdCBhY2NvcmRpb25CdG5zID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2NvbnRyb2wnKTtcclxuXHJcbi8qIGtheSBtYXBwaW5nICovXHJcbmNvbnN0IEtFWV9DT0RFUyA9IHtcclxuXHRlbmQ6IDM1LFxyXG5cdGhvbWU6IDM2LFxyXG5cdGFycm93VXA6IDM4LFxyXG5cdGFycm93RG93bjogNDAsXHJcbn07XHJcblxyXG4vKiBuYXZpZ2F0aW9uIGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZU5hdlRvZ2dsZSA9IGUgPT4ge1xyXG5cdGNvbnN0IGlzRXhwYW5kZWQgPSBuYXZUb2dnbGUuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJztcclxuXHRuYXZUb2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgIWlzRXhwYW5kZWQpO1xyXG5cdG5hdmlnYXRpb25FeHBhbmRpbmcoIWlzRXhwYW5kZWQpO1xyXG59O1xyXG5cclxuY29uc3QgbmF2aWdhdGlvbkV4cGFuZGluZyA9IHNob3VsZEV4cGFuZCA9PiB7XHJcblx0aWYgKHNob3VsZEV4cGFuZCkge1xyXG5cdFx0cHJpbWFyeU5hdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZXhwYW5kZWQnLCB0cnVlKTtcclxuXHRcdHByaW1hcnlOYXYuY2xhc3NMaXN0LmFkZCgnc2xpZGUtaW4nKTtcclxuXHRcdHByaW1hcnlOYXYuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4gcHJpbWFyeU5hdi5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZS1pbicpLCB7IG9uY2U6IHRydWUgfSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHByaW1hcnlOYXYuY2xhc3NMaXN0LmFkZCgnc2xpZGUtb3V0Jyk7XHJcblx0XHRwcmltYXJ5TmF2LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdCdhbmltYXRpb25lbmQnLFxyXG5cdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0cHJpbWFyeU5hdi5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZS1vdXQnKTtcclxuXHRcdFx0XHRwcmltYXJ5TmF2LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1leHBhbmRlZCcpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHR7IG9uY2U6IHRydWUgfVxyXG5cdFx0KTtcclxuXHR9XHJcbn07XHJcblxyXG4vKiBmZWF0dXJlcyB0YWJzIGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZUZlYXR1cmVzQ29udHJvbEJ1dHRvbiA9IGUgPT4ge1xyXG5cdGNvbnN0IGJ1dHRvbiA9IGUudGFyZ2V0O1xyXG5cdC8qIGlmIGNsaWNrZWQgb24gY3VycmVudCBleHBhbmRlZCB0YWIsIHJldHVybiAqL1xyXG5cdGlmIChidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJykgcmV0dXJuO1xyXG5cclxuXHQvKiBoaWRlIGFsbCB0YWJzIGFuZCBjb2xsYXBzZSBhbGwgYnV0dG9ucyAqL1xyXG5cdGNvbGxhcHNlQWxsRmVhdHVyZXNCdG5zKCk7XHJcblx0aGlkZUFsbEZlYXR1cmVzVGFicygpO1xyXG5cdC8qIHVwZGF0ZSBidXR0b25zIGFuZCBjdXJyZW50IGJ1dHRvbiAqL1xyXG5cdHVwZGF0ZVVuZGVybGluZU9yaWdpbihwYXJzZUludChidXR0b24uZGF0YXNldC5pbmRleCkpO1xyXG5cdGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcclxuXHQvKiBnZXQgdGFiIHRhcmdldGVkIGJ5IHRoZSBidXR0b24gYW5kIHVwZGF0ZSBpdCAqL1xyXG5cdGNvbnN0IHRhcmdldFRhYklkID0gJyMnICsgYnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xyXG5cdGNvbnN0IHRhcmdldFRhYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFRhYklkKTtcclxuXHR0YXJnZXRUYWJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdHRhcmdldFRhYkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2hvd2luZycpO1xyXG5cdHRhcmdldFRhYkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4gdGFyZ2V0VGFiRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93aW5nJyksIHsgb25jZTogdHJ1ZSB9KTtcclxufTtcclxuXHJcbmNvbnN0IGNvbGxhcHNlQWxsRmVhdHVyZXNCdG5zID0gKCkgPT4ge1xyXG5cdGZvciAoY29uc3QgY3RybEJ0biBvZiBmZWF0dXJlc0NvbnRyb2xCdG5zKSB7XHJcblx0XHRjdHJsQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVVbmRlcmxpbmVPcmlnaW4gPSBwaXZvdElkeCA9PiB7XHJcblx0ZmVhdHVyZXNDb250cm9sQnRucy5mb3JFYWNoKChjdHJsQnRuLCBpZHgpID0+IHtcclxuXHRcdC8qIGlmIHRoZSBjdXJyZW50IG92ZXJsb29rZWQgaW5kZXgsIGNoYW5nZSBkaXJlY3Rpb24gZGVwZW5kaW5nIG9uIHByZXZpb3VzIGRpcmVjdGlvbiAqL1xyXG5cdFx0aWYgKGlkeCA9PT0gcGl2b3RJZHgpXHJcblx0XHRcdGN0cmxCdG4uZGF0YXNldC51bmRlbGluZU9yaWdpbiA9PT0gJ2xlZnQnXHJcblx0XHRcdFx0PyAoY3RybEJ0bi5kYXRhc2V0LnVuZGVsaW5lT3JpZ2luID0gJ3JpZ2h0JylcclxuXHRcdFx0XHQ6IChjdHJsQnRuLmRhdGFzZXQudW5kZWxpbmVPcmlnaW4gPSAnbGVmdCcpO1xyXG5cdFx0LyogZWxzZSBjaGFuZ2UgZGVwZW5kaW5nIG9uIHRoZSBwb3NpdGlvbmluZyB0byB0aGUgY3VycmVudCBpbmRleCAqL1xyXG5cdFx0aWYgKGlkeCA8IHBpdm90SWR4KSBjdHJsQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS11bmRlcmxpbmUtb3JpZ2luJywgJ3JpZ2h0Jyk7XHJcblx0XHRpZiAoaWR4ID4gcGl2b3RJZHgpIGN0cmxCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXVuZGVybGluZS1vcmlnaW4nLCAnbGVmdCcpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGlkZUFsbEZlYXR1cmVzVGFicyA9ICgpID0+IHtcclxuXHRmZWF0dXJlVGFicy5mb3JFYWNoKHRhYiA9PiB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG59O1xyXG5cclxuLyogaW5pdGlhbGl6YXRpb24gZm9yIHRhYnMgKi9cclxuY29uc3QgaW5pdEZlYXR1cmVzQ29udHJvbEJ0bnMgPSAoKSA9PiB7XHJcblx0ZmVhdHVyZXNDb250cm9sQnRucy5mb3JFYWNoKChjdHJsQnRuLCBpZHgpID0+IGN0cmxCdG4uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaWR4KSk7XHJcbn07XHJcblxyXG4vKiBhY2NvcmRpb24gaGFuZGxpbmcgKi9cclxuY29uc3QgaGFuZGxlS2V5UHJlc3MgPSBlID0+IHtcclxuXHRjb25zdCBrZXlDb2RlID0gZS5rZXlDb2RlO1xyXG5cdGNvbnN0IGlkeCA9IEFycmF5LmZyb20oYWNjb3JkaW9uQnRucykuZmluZEluZGV4KGJ0biA9PiBidG4gPT09IGUudGFyZ2V0KTtcclxuXHRzd2l0Y2ggKGtleUNvZGUpIHtcclxuXHRcdGNhc2UgS0VZX0NPREVTLmFycm93VXA6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0bW92ZUZvY3VzVXAoaWR4KTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIEtFWV9DT0RFUy5hcnJvd0Rvd246XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0bW92ZUZvY3VzRG93bihpZHgpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgS0VZX0NPREVTLmhvbWU6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0bW92ZUZvY3VzVG9GaXJzdEVsZW1lbnQoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIEtFWV9DT0RFUy5lbmQ6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0bW92ZUZvY3VzVG9MYXN0RWxlbWVudCgpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBtb3ZlRm9jdXNVcCA9IGlkeCA9PiB7XHJcblx0Y29uc3QgcHJldklkeCA9IChhY2NvcmRpb25CdG5zLmxlbmd0aCArIGlkeCAtIDEpICUgYWNjb3JkaW9uQnRucy5sZW5ndGg7XHJcblx0YWNjb3JkaW9uQnRuc1twcmV2SWR4XS5mb2N1cygpO1xyXG5cdHJldHVybiBwcmV2SWR4O1xyXG59O1xyXG5cclxuY29uc3QgbW92ZUZvY3VzRG93biA9IGlkeCA9PiB7XHJcblx0Y29uc3QgbmV4dElkeCA9IChpZHggKyAxKSAlIGFjY29yZGlvbkJ0bnMubGVuZ3RoO1xyXG5cdGFjY29yZGlvbkJ0bnNbbmV4dElkeF0uZm9jdXMoKTtcclxuXHRyZXR1cm4gbmV4dElkeDtcclxufTtcclxuXHJcbmNvbnN0IG1vdmVGb2N1c1RvRmlyc3RFbGVtZW50ID0gXyA9PiB7XHJcblx0YWNjb3JkaW9uQnRuc1swXS5mb2N1cygpO1xyXG5cdHJldHVybiAwO1xyXG59O1xyXG5cclxuY29uc3QgbW92ZUZvY3VzVG9MYXN0RWxlbWVudCA9IF8gPT4ge1xyXG5cdGFjY29yZGlvbkJ0bnNbYWNjb3JkaW9uQnRucy5sZW5ndGggLSAxXS5mb2N1cygpO1xyXG5cdHJldHVybiBhY2NvcmRpb25CdG5zLmxlbmd0aCAtIDE7XHJcbn07XHJcblxyXG4vKiBldmVudCBsaXN0ZW5lcnMgKi9cclxubmF2VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2VG9nZ2xlKTtcclxuZmVhdHVyZXNDb250cm9sQnRucy5mb3JFYWNoKGN0cmxCdG4gPT4gY3RybEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUZlYXR1cmVzQ29udHJvbEJ1dHRvbikpO1xyXG5hY2NvcmRpb25CdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5UHJlc3MpKTtcclxuXHJcbmluaXRGZWF0dXJlc0NvbnRyb2xCdG5zKCk7XHJcbiJdfQ==
